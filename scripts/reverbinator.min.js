!function(){const e=document.querySelector(".reverbinator"),t=document.querySelector(".reverbinator-label"),r=document.querySelectorAll(".reverbinator-reel-teeth"),o=document.querySelector(".reverbinator-toggle"),n=window.location.search,a=new URLSearchParams(n).get("theme");e.classList.add(a),navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){const n=new MediaRecorder(e);function a(){o.classList.toggle("recording");for(var e=0;e<r.length;e++)r[e].classList.toggle("recording")}o.onclick=function(){this.classList.contains("recording")?(a(),n.stop()):(a(),n.start())};let c=[];n.onstop=function(e){const r=prompt("Please enter a name for your Reverbinator clip:");t.removeChild(document.querySelector(".reverbinator-clip"));const o=document.createElement("div"),n=document.createElement("p"),a=document.createElement("audio");o.classList.add("reverbinator-clip"),a.setAttribute("controls",""),n.innerHTML=r,o.appendChild(n),o.appendChild(a),t.appendChild(o);const i=new Blob(c,{type:"audio/ogg; codecs=opus"});c=[];const s=window.URL.createObjectURL(i);a.src=s},n.ondataavailable=function(e){c.push(e.data)}}).catch(function(e){alert("Reverbinator error: "+e)}):e.classList.add("reverbinator-error")}();
